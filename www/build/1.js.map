{"version":3,"sources":["../../src/pages/review-create/review-create.module.ts","../../src/pages/card-detail/card-detail.ts","../../src/pages/review-create/review-create.ts","../../src/pages/review-create/review-create.service.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ReviewCreatePage } from './review-create';\n\n@NgModule({\n  declarations: [\n    ReviewCreatePage ,\n  ],\n  imports: [\n    IonicPageModule.forChild(ReviewCreatePage ),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ReviewCreatePage \n  ]\n})\nexport class ReviewCreatePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/review-create/review-create.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, ModalController, NavParams } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database'; \nimport { Observable } from 'rxjs/Observable';\nimport { Item } from '../../models/item';\nimport { Items } from '../../providers/providers';\nimport { Reviews } from '../../providers/providers';\n\n\n@IonicPage()\n@Component({\n  selector: 'card-detail',\n  templateUrl: 'card-detail.html'\n})\n\n\nexport class CardDetailPage {\n  item: any;\n  review: any;\n\n  currentReviews: Item[];\n  reviewsObservable: Observable<any[]>;\n\n  constructor(public navCtrl: NavController,  private db: AngularFireDatabase, navParams: NavParams, public reviews: Reviews, public items: Items, public modalCtrl: ModalController) {\n    this.item = navParams.get('item') || reviews.defaultReview;\n    this.currentReviews = this.reviews.query();\n\n    \n  }\n\n  ngOnInit() {\n    console.log('/' + this.item.data + '/reviews');\n    this.reviewsObservable = this.getReviews('/' + this.item.data + '/reviews');\n    \n    \n  }\n\n  getReviews(listPath): Observable<any[]> {\n    return this.db.list(listPath).valueChanges();\n  }\n\n  getCard()\n  {\n    return this.item.data;\n  }\n\n\n\n  addReview() {\n    this.navCtrl.push('ReviewCreatePage', {\n      item1: this.item.data,\n    });\n  }\n\n\n \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/card-detail/card-detail.ts","import { Component, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { IonicPage, NavController, ViewController, NavParams } from 'ionic-angular';\nimport { AngularFireDatabase, AngularFireObject } from \"angularfire2/database\";\nimport { ReviewService } from '../review-create/review-create.service';\nimport { Review } from '../card-detail/review';\nimport { AngularFireModule,  } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule, AngularFireAuth} from 'angularfire2/auth';\nimport { Item } from '../../models/item';\nimport { Items } from '../../providers/providers';\nimport { CardDetailPage } from '../card-detail/card-detail';\nimport { Reviews } from '../../providers/providers';\n\n\n\n\n@IonicPage()\n@Component({\n  selector: 'card-detail-create',\n  templateUrl: 'review-create.html',\n  providers: [ReviewService]\n})\nexport class ReviewCreatePage  {\n  @ViewChild('CardDetailPage') data: CardDetailPage;\n  isReadyToSave: boolean;\n\n\n  review: any;\n  item: any;\n  \n  reviewForm: FormGroup;\n\n\n\n  constructor(private db: AngularFireDatabase, public navParams: NavParams, public reviews: Reviews, public af: AngularFireAuth, public navCtrl: NavController, public viewCtrl: ViewController, private reviewService: ReviewService, private fb: FormBuilder, formBuilder: FormBuilder) {\n    this.item = navParams.get('item') || reviews.defaultReview;\n    \n    this.reviewForm = formBuilder.group({\n      // name: ['', Validators.required],\n      details: ['', Validators.required]});\n\n      this.reviewForm.valueChanges.subscribe((v) => {\n        this.isReadyToSave = this.reviewForm.valid;\n      });\n  \n  }\n\n\n\n  onSubmit() {\n    const  details = this.reviewForm.value.details;\n    const name = this.af.auth.currentUser.displayName;\n    const profile = this.af.auth.currentUser.photoURL;\n    const data = this.navParams.get('item1');\n   \n    let formRequest = {name, details, profile};\n    this.db.list('/' + data + '/reviews').push(formRequest);\n    \n  }\n   /* this.reviewForm = formBuilder.group({\n      name: ['', Validators.required],\n      details: ['']\n    });\n\n    // Watch the form for changes, and\n    this.reviewForm.valueChanges.subscribe((v) => {\n      this.isReadyToSave = this.reviewForm.valid;\n    });\n  }\naddRev(){\n  const {name, details} = this.reviewForm.value;\n  let formRequest = { name, details};\n  this.db.list('/reviws').push(formRequest).key;\n}\n  newReview() {\n    this.review = this.reviewService.createReview();\n    this.buildForm();\n  }\n\n  private buildForm() {\n    this.reviewForm = this.fb.group({\n      name:    ['', Validators.required ],\n      details:  ['', ],\n    });\n    this.review.subscribe(review => {\n      this.reviewForm.patchValue(review)\n    })\n  }\n\n  /**\n   * The user cancelled, so we dismiss without sending data back.\n   */\n\n   \n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n\n  /**\n   * The user is done and wants to create the item, so return it\n   * back to the presenter.\n   */\n  done() {\n    if (!this.reviewForm.valid) { return; }\n    this.viewCtrl.dismiss(this.reviewForm.value);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/review-create/review-create.ts","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Review } from '../card-detail/review';\n\n\nimport { AngularFireDatabase, AngularFireObject } from \"angularfire2/database\";\n\n@Injectable()\nexport class ReviewService {\n\n  constructor(private db: AngularFireDatabase) { }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/review-create/review-create.service.ts"],"sourceRoot":""}