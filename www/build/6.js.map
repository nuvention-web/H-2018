{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    SearchPage\n  ]\n})\nexport class SearchPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\n\n\nimport { Item } from '../../models/item';\nimport { Items } from '../../providers/providers';\nimport { Placeholder } from '@angular/compiler/src/i18n/i18n_ast';\n\n\ndeclare var google;\n\n\n@IonicPage(\n  /*{name: 'SearchPage',\nsegment: 'map'\n}\n*/)\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html'\n})\nexport class SearchPage {\n\n  currentItems: any = [];\n  markers: Item[];\n  myMarker: any;\n\n  @ViewChild('mapContainer') mapContainer: ElementRef;\n  map: any;\n  infoWindows: any;\n\n  constructor(private geolocation: Geolocation, public navCtrl: NavController, public navParams: NavParams, public items: Items)\n   {   this.markers= this.items.query();\n    this.infoWindows = [];\n  }\n\n  /**\n   * Perform a service for the proper items.\n   */\n  getItems(ev) {\n    let val = ev.target.value;\n    if (!val || !val.trim()) {\n      this.currentItems = [];\n      return;\n    }\n    this.currentItems = this.items.query({\n      name: val\n    });\n  }\n\n  /**\n   * Navigate to the detail page for this item.\n   */\n  openItem(item: Item) {\n      this.navCtrl.push('CardDetailPage', {\n        item: item\n      });\n  }\n\n  \n\n  ngOnInit(){\n    this.displayGoogleMap();\n\n  }\n\n\n\n  closeAllInfoWindows() {\n    for(let window of this.infoWindows) {\n      window.close();\n    }\n  }\n\n  addInfoWindowToMarker(marker) {\n    \n    var infoWindowContent = '<div id=\"content\" style=\"width:125px\"><h1 id=\"firstHeading\" class=\"firstHeading\">' + marker.title  +'</h1>' + '<p>' + marker.about + '</p></div>';\n    var infoWindow = new google.maps.InfoWindow({\n      content: infoWindowContent\n    });\n \n    marker.addListener('click', () => {\n      this.closeAllInfoWindows();\n      infoWindow.open(this.map, marker);\n    });\n\n    this.infoWindows.push(infoWindow);\n   \n    google.maps.event.addListenerOnce(infoWindow, 'domready', () => {\n      document.getElementById('content').addEventListener('click', () => {\n        this.openItem(marker.data);\n      });\n    });\n\n  \n  }\n  \n\n \n\n  \n\n  displayGoogleMap() {\n\n    let mapOptions = {\n      disableDefaultUI: true,\n      zoom: 15,\n      myLocation: true,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      styles: [\n        \n          \n            {\n              \"elementType\": \"geometry.stroke\",\n              \"stylers\": [\n                {\n                  \"weight\": 1\n                }\n              ]\n            },\n            {\n              \"elementType\": \"labels.icon\",\n              \"stylers\": [\n                {\n                  \"weight\": 0.5\n                }\n              ]\n            },\n            {\n              \"elementType\": \"labels.text.fill\",\n              \"stylers\": [{\n                  \"color\": \"#029735\"\n                }\n              ]\n            },\n            {\n              \"elementType\": \"labels.text.stroke\",\n              \"stylers\": [\n                {\n                  \"color\": \"#fffff3\"\n                }\n              ]\n            },\n            {\n              \"featureType\": \"administrative.land_parcel\",\n              \"elementType\": \"labels\",\n              \"stylers\": [\n                {\n                  \"visibility\": \"off\"\n                }\n              ]\n            },\n            {\n              \"featureType\": \"poi.business\",\n              \"stylers\": [\n                {\n                  \"visibility\": \"off\"\n                }\n              ]\n            },\n            {\n              \"featureType\": \"poi.park\",\n              \"elementType\": \"labels.text\",\n              \"stylers\": [\n                {\n                  \"visibility\": \"off\"\n                }\n              ]\n            },\n            {\n              \"featureType\": \"road.local\",\n              \"elementType\": \"labels\",\n              \"stylers\": [\n                {\n                  \"visibility\": \"off\"\n                }\n              ]\n            }\n          ],\n    }\n    this.map = new google.maps.Map(this.mapContainer.nativeElement, mapOptions);\n  \n\n    for(let item of this.markers) {\n      let position = new google.maps.LatLng(item.lat, item.lng);\n      let marker = new google.maps.Marker({map: this.map, position: position, title: item.name, about: item.about, data: item});\n      this.addInfoWindowToMarker(marker);\n    }\n\n    this.geolocation.getCurrentPosition().then((position) => {\n \n      let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n      this.map.setCenter(latLng);\n      let myMarker = new google.maps.Marker({\n        map: this.map,\n        icon: {\n          path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,\n                strokeColor : '#ff9007',\n                strokeWeight : 5,\n                scale: 3.5,\n        },\n        \n          animation: google.maps.Animation.DROP,\n        position: latLng\n      });\n      \n \n      this.geolocation.watchPosition().subscribe((resp) => {\n        let latLng = new google.maps.LatLng(resp.coords.latitude,\n        resp.coords.longitude);\n        myMarker.setPosition(latLng);\n \n    }, (err) => {\n      console.log(err);\n    });\n \n\n  \n   \n    \n\n\n  }, (err) => {\n    console.log(err);\n  });\n\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}